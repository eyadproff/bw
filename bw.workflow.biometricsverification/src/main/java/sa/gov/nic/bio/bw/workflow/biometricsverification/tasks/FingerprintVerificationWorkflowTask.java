package sa.gov.nic.bio.bw.workflow.biometricsverification.tasks;

import com.google.gson.Gson;
import retrofit2.Call;
import sa.gov.nic.bio.bw.core.Context;
import sa.gov.nic.bio.bw.core.workflow.Input;
import sa.gov.nic.bio.bw.core.workflow.Output;
import sa.gov.nic.bio.bw.core.workflow.Signal;
import sa.gov.nic.bio.bw.core.workflow.WorkflowTask;
import sa.gov.nic.bio.bw.workflow.commons.beans.Finger;
import sa.gov.nic.bio.bw.workflow.biometricsverification.webservice.FingerprintVerificationAPI;
import sa.gov.nic.bio.bw.workflow.commons.beans.PersonInfo;
import sa.gov.nic.bio.bw.workflow.biometricsverification.beans.MatchingResponse;
import sa.gov.nic.bio.commons.TaskResponse;

public class FingerprintVerificationWorkflowTask extends WorkflowTask {
    @Input(alwaysRequired = true) private Long personId;
    @Input(alwaysRequired = true) private Finger fingerprint;
    @Input(alwaysRequired = true) private Integer fingerPosition;
    @Output private MatchingResponse matchingResponse;

    @Override
    public void execute() throws Signal {
        String fingerprintAsJson = new Gson().toJson(fingerprint, Finger.class);

        var api = Context.getWebserviceManager().getApi(FingerprintVerificationAPI.class);
        Call<PersonInfo> apiCall = api.verifyFingerprint(workflowId, workflowTcn, personId,
                fingerprintAsJson, fingerPosition);

//                Call<PersonInfo> apiCall = api.verifyFingerprint(workflowId, workflowTcn, 1133886083L,
//                        "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",
//                        1);
        TaskResponse<PersonInfo> taskResponse = Context.getWebserviceManager().executeApi(apiCall);

      //  resetWorkflowStepIfNegativeOrNullTaskResponse(taskResponse);

        if (taskResponse.isSuccess()) {
            PersonInfo personInfo = taskResponse.getResult();
            matchingResponse = new MatchingResponse(true, personInfo);
        }
        else {
			if ("B003-0021".equals(taskResponse.getErrorCode())) // not matched
			{
                matchingResponse = new MatchingResponse(false, null);
			}
			else { resetWorkflowStepIfNegativeOrNullTaskResponse(taskResponse); }
        }
    }
}